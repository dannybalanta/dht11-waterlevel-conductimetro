<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="FS0-~d3Oe]O!r:-|(Z]q">nivelH2O</variable><variable id="Iwdxw+.{*+`JJfk4orud">temp</variable><variable id="QHRdEXCe97B{u?dw%wEk">hum</variable></variables><block type="device_button_event" id="@a|xf*G]4c+yFWIDEtzB" x="75" y="-515"><field name="NAME">Button.A</field><statement name="HANDLER"><block type="radio_datagram_send_value" id="?!(6RGVlh=rXg`[%/IAB"><comment>Envía el valor de la temperatura</comment><value name="name"><shadow type="text" id="Xn#~3op*?Ah@;?]nKvjS"><field name="TEXT">T:</field></shadow></value><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="77r}U0[Ww|Idm+OO?es2"><field name="VAR" id="Iwdxw+.{*+`JJfk4orud">temp</field></block></value><next><block type="radio_datagram_send_string" id="Oudni(U}v2xMmoRUqiw!"><comment>Envía el valor de la humedad </comment><value name="msg"><shadow type="text"><field name="TEXT"/></shadow><block type="text_join" id="gsjMXUyx3xV}IKvT:L.$"><mutation items="3"/><value name="ADD0"><shadow type="text" id="H3C{lyRhO93R9urUiS2J"><field name="TEXT">H:</field></shadow></value><value name="ADD1"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="frGD/.#:SJinY4Txw4Ot"><field name="VAR" id="QHRdEXCe97B{u?dw%wEk">hum</field></block></value><value name="ADD2"><shadow type="text" id="n5ywd?~um1QM~`q03m-Z"><field name="TEXT">%</field></shadow></value></block></value><next><block type="radio_datagram_send" id="cG5lpeUKnpI8|D:)4M%1"><comment>Envía el valor nivel de agua</comment><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="#AHJC6ypc[Xy0by?YZyb"><field name="VAR" id="FS0-~d3Oe]O!r:-|(Z]q">nivelH2O</field></block></value></block></next></block></next></block></statement></block><block type="pxt-on-start" id="u|nL:uiZMxEKW@7EcX=(" x="-165" y="-490"><statement name="HANDLER"><block type="radio_set_group" id=",s(A#v0qR8H12Ti7iL7k"><comment>Establece canal de comunicación entre las micro:bit en el canal 7</comment><value name="ID"><shadow type="math_number_minmax" id="CtK1br3KfGE^Q?]B|^l~"><mutation min="0" max="255" label="Id" precision="0"/><field name="SLIDER">7</field></shadow></value></block></statement></block><block type="device_forever" id="KQ+4dTLzUBfCB(,Y%CQQ" x="-2" y="-186"><statement name="HANDLER"><block type="function_call" id="_rZijH`^t#N8a0GP/9rY"><mutation name="vigilaDHT11" functionid="$={F!8@yJ{_S:ZF6Lpx["/><comment>llama la función VigilarDHT11</comment><next><block type="function_call" id="$A1!_=%axM)v)d:0V7_u"><mutation name="vigilaNivel" functionid="$4:j:u5S;KL$`qhr/xvn"/><comment>Llama la función vigilar nivel de agua</comment></block></next></block></statement></block><block type="function_definition" id="Cm_,S!{0[M@pFU,%d4B@" x="643" y="-196"><mutation name="vigilaNivel" functionid="$4:j:u5S;KL$`qhr/xvn"/><field name="function_name">vigilaNivel</field><comment>Función nivel de agua para verificar si hay inundación</comment><statement name="STACK"><block type="variables_set" id="m|y~`;8MotC|dJS0[(%$"><field name="VAR" id="FS0-~d3Oe]O!r:-|(Z]q">nivelH2O</field><comment>Mide el nivel de agua usando el sensor de nivel de agua a través del Pin 0</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_analog_pin" id="h(fC([{eFWzsZ@O|Yb%,"><field name="name">AnalogPin.P0</field></block></value><next><block type="device_show_number" id="kVZ$`hr?i]e*)W*OM5S`"><comment>Muestra el nivel de agua actual</comment><value name="number"><block type="variables_get" id="il%}pL,AiDxvz1pPf6D+"><field name="VAR" id="FS0-~d3Oe]O!r:-|(Z]q">nivelH2O</field></block></value><next><block type="device_pause" id=")cv|W3$Z]06T^0dgrgs_"><value name="pause"><shadow type="timePicker" id="L(^oG_RA#D,;x-k:KFzX"><field name="ms">1000</field></shadow></value><next><block type="controls_if" id="svP(JjUwpBRi@q0i3A%f"><comment>Si el nivel de agua excede los 350, hay inundación, declarar la alarma de forma visual y sonora</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="SiP}N+$o[qe1M97%Jim/"><field name="OP">GT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="Km4kE1XVlvV5)s2/o{ot"><field name="VAR" id="FS0-~d3Oe]O!r:-|(Z]q">nivelH2O</field></block></value><value name="B"><shadow type="math_number" id="=LcBCsD]g066e{{xS_T|"><field name="NUM">350</field></shadow></value></block></value><statement name="DO0"><block type="basic_show_icon" id="fDZ~ca/#}B*xZy*{B^hf"><field name="i">IconNames.No</field><comment>Alarma visual</comment><next><block type="controls_repeat_ext" id="LYGUh^%LCG/R`LfWS7.V"><comment>Alarma sonora </comment><value name="TIMES"><shadow type="math_whole_number" id="(`.yreyM6e5BvU:Yt_US"><field name="NUM">4</field></shadow></value><statement name="DO"><block type="playMelody" id="GSR^BC(s1ENAOUBX#l!C"><value name="melody"><shadow type="melody_editor" id="Row!bPr^HN4.hz==ISEI"><field name="melody">"C D C D C D C D "</field></shadow></value><value name="tempo"><shadow type="math_number_minmax" id="sc$e$%:UqaaGI*ZOS)A+"><mutation min="40" max="500" label="Number" precision="0"/><field name="SLIDER">120</field></shadow></value></block></statement></block></next></block></statement></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="A#Z74]dP-5Fi{)}tK_d`" x="0" y="0"><mutation name="vigilaDHT11" functionid="$={F!8@yJ{_S:ZF6Lpx["/><field name="function_name">vigilaDHT11</field><comment>Función para Vigilar el sensor DHT11 y la temperatura</comment><statement name="STACK"><block type="variables_set" id="I19eT|hFoa^NZ~)Au5ml"><field name="VAR" id="Iwdxw+.{*+`JJfk4orud">temp</field><comment>Establece la temperatura desde el sensor interno</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_temperature" id="[T.O)lqhoQT,o:_J%7wd"/></value><next><block type="device_print_message" id="96K;~=J=}ZcSBil-U3O{"><comment>muestra la temperatura</comment><value name="text"><block type="text_join" id="y~aPMuBkgFS0itJ5J%#:"><mutation items="3"/><value name="ADD0"><shadow type="text" id="Rr-{v,:.~r*5MSmz7$.l"><field name="TEXT">T:</field></shadow></value><value name="ADD1"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="}q@w^yD|ay|J4~_FZx;]"><field name="VAR" id="Iwdxw+.{*+`JJfk4orud">temp</field></block></value><value name="ADD2"><shadow type="text" id="%^[][VHj4!2:^_!tYafJ"><field name="TEXT">C</field></shadow></value></block></value><next><block type="device_pause" id="#iq==c0w)}x;YD*9A^_I"><comment>pausa de 1 s</comment><value name="pause"><shadow type="timePicker" id="+NI#OAeqIU%:+_SpDRU="><field name="ms">1000</field></shadow></value><next><block type="variables_set" id="wNhBqi|JWqe#HXyzjko3"><field name="VAR" id="QHRdEXCe97B{u?dw%wEk">hum</field><comment>mide la humedad desde el Pin2 usando el sensor DHT11</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="readdht11" id="O=Tm}l!O`+`;8QWs{PV="><field name="dht11type">Environment.DHT11Type.DHT11_humidity</field><field name="dht11pin">DigitalPin.P2</field></block></value><next><block type="device_print_message" id="CXrJeL7c3(*F!!xRWV$@"><comment>muestra la humedad</comment><value name="text"><block type="text_join" id="GXUGT4xKDS+-sy5||E%^"><mutation items="3"/><value name="ADD0"><shadow type="text" id="/o:1N+oK7G6Ao6Co5h|b"><field name="TEXT">H:</field></shadow></value><value name="ADD1"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="r^_F+oBvtJ=r([e~aZZ/"><field name="VAR" id="QHRdEXCe97B{u?dw%wEk">hum</field></block></value><value name="ADD2"><shadow type="text" id="}R6oDTS6b-LwJx!{qhH%"><field name="TEXT">%</field></shadow></value></block></value><next><block type="device_pause" id="/oJ~``:RHiF0`%l`/}|4"><comment>pausa 1 segundo</comment><value name="pause"><shadow type="timePicker" id="*QU~_~HIpxBH61U[G;jP"><field name="ms">1000</field></shadow></value><next><block type="controls_if" id="lZutfYw=;[:*#0(j~lLv"><comment>Si la temperatura es mayor a 37 y la humedad inferior a 25, abre los 3 aspersores de agua en la zona de riego</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id=".5LfMy.oKf/=Xk=4mE,k"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="L,A+xx1#`OP*uL|G+kYt"><field name="OP">GTE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="WqiRvfutJ|(JAykf[)H`"><field name="VAR" id="Iwdxw+.{*+`JJfk4orud">temp</field></block></value><value name="B"><shadow type="math_number" id="a;;ICpAxll,uo)7:g`dO"><field name="NUM">37</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="IQQdCU$@HMx`nID.(h$e"><field name="OP">LTE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="fn@*b9ibi(K:f!,6+zft"><field name="VAR" id="QHRdEXCe97B{u?dw%wEk">hum</field></block></value><value name="B"><shadow type="math_number" id="C_,VzN,+?x`KTj|MWY-S"><field name="NUM">25</field></shadow></value></block></value></block></value><statement name="DO0"><block type="controls_repeat_ext" id="Sh:NEwis!vLyeFWf+7K$"><comment>Se riega por cuatro veces las zonas </comment><value name="TIMES"><shadow type="math_whole_number" id="6G5_#M;LT|QL)PQVOx!("><field name="NUM">4</field></shadow></value><statement name="DO"><block type="device_show_leds" id="~oS.SNC0PQS/@51.[x!-"><field name="LEDS">`
        . . # . . 
        . . . . . 
        . # . # . 
        . . # . . 
        # . . . #
        `</field></block></statement></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>